"use strict";angular.module("pouchdb",[]).constant("POUCHDB_METHODS",{destroy:"qify",put:"qify",post:"qify",get:"qify",remove:"qify",bulkDocs:"qify",bulkGet:"qify",allDocs:"qify",putAttachment:"qify",getAttachment:"qify",removeAttachment:"qify",query:"qify",viewCleanup:"qify",info:"qify",compact:"qify",revsDiff:"qify",changes:"eventEmitter",sync:"eventEmitter",replicate:{to:"eventEmitter",from:"eventEmitter"}}).service("pouchDBDecorators",function(t){this.qify=function(e){return function(){return t.when(e.apply(this,arguments))}},this.eventEmitter=function(e){return function(){var n=t.defer(),r=e.apply(this,arguments).on("change",function(t){return n.notify({change:t})}).on("paused",function(t){return n.notify({paused:t})}).on("active",function(t){return n.notify({active:t})}).on("denied",function(t){return n.notify({denied:t})}).on("complete",function(t){return n.resolve(t)}).on("error",function(t){return n.reject(t)});return r.$promise=n.promise,r}}}).provider("pouchDB",function(t){var e=this;e.methods=t,e.$get=function(t,n){function r(t,e,i){for(var o in e){var u=e[o];angular.isString(u)?(u=n[u],i?t[i][o]=u(t[i][o]):t[o]=u(t[o])):r(t,u,o)}return t}return function(n,i){var o=new t.PouchDB(n,i);return r(o,e.methods)}}});